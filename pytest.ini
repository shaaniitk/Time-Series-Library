[pytest]
# Unified pytest configuration (duplicate header removed)
testpaths =
    tests
    TestsModule
; Prevent collecting quarantined/duplicate tests that clash by basename
norecursedirs =
    .git
    __pycache__
    .tox
    .venv
    tsl-env
    build
    dist
    TestsModule/quarantine
python_files = test_*.py
pythonpath = .
addopts = -ra --import-mode=importlib
filterwarnings =
    ignore::DeprecationWarning
    ignore::UserWarning
markers =
    smoke: Fast minimal surface tests
    extended: Broader functional coverage tests (not perf-heavy)
    perf: Performance / benchmark tests
    quarantine: Flaky or high-cost tests excluded from normal pipelines
    legacy: Legacy monolith-era tests gated behind --include-legacy or INCLUDE_LEGACY_TESTS=1